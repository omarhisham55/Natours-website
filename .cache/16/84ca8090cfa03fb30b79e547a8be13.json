{"id":"../../node_modules/axios/lib/helpers/composeSignals.js","dependencies":[{"name":"D:\\learning-projects\\js\\natours\\package.json","includedInParent":true,"mtime":1738789525091},{"name":"D:\\learning-projects\\js\\natours\\node_modules\\axios\\package.json","includedInParent":true,"mtime":1737806351315},{"name":"../cancel/CanceledError.js","loc":{"line":1,"column":26,"index":26},"parent":"D:\\learning-projects\\js\\natours\\node_modules\\axios\\lib\\helpers\\composeSignals.js","resolved":"D:\\learning-projects\\js\\natours\\node_modules\\axios\\lib\\cancel\\CanceledError.js"},{"name":"../core/AxiosError.js","loc":{"line":2,"column":23,"index":79},"parent":"D:\\learning-projects\\js\\natours\\node_modules\\axios\\lib\\helpers\\composeSignals.js","resolved":"D:\\learning-projects\\js\\natours\\node_modules\\axios\\lib\\core\\AxiosError.js"},{"name":"../utils.js","loc":{"line":3,"column":18,"index":122},"parent":"D:\\learning-projects\\js\\natours\\node_modules\\axios\\lib\\helpers\\composeSignals.js","resolved":"D:\\learning-projects\\js\\natours\\node_modules\\axios\\lib\\utils.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _CanceledError = _interopRequireDefault(require(\"../cancel/CanceledError.js\"));\nvar _AxiosError = _interopRequireDefault(require(\"../core/AxiosError.js\"));\nvar _utils = _interopRequireDefault(require(\"../utils.js\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst composeSignals = (signals, timeout) => {\n  const {\n    length\n  } = signals = signals ? signals.filter(Boolean) : [];\n  if (timeout || length) {\n    let controller = new AbortController();\n    let aborted;\n    const onabort = function (reason) {\n      if (!aborted) {\n        aborted = true;\n        unsubscribe();\n        const err = reason instanceof Error ? reason : this.reason;\n        controller.abort(err instanceof _AxiosError.default ? err : new _CanceledError.default(err instanceof Error ? err.message : err));\n      }\n    };\n    let timer = timeout && setTimeout(() => {\n      timer = null;\n      onabort(new _AxiosError.default(`timeout ${timeout} of ms exceeded`, _AxiosError.default.ETIMEDOUT));\n    }, timeout);\n    const unsubscribe = () => {\n      if (signals) {\n        timer && clearTimeout(timer);\n        timer = null;\n        signals.forEach(signal => {\n          signal.unsubscribe ? signal.unsubscribe(onabort) : signal.removeEventListener('abort', onabort);\n        });\n        signals = null;\n      }\n    };\n    signals.forEach(signal => signal.addEventListener('abort', onabort));\n    const {\n      signal\n    } = controller;\n    signal.unsubscribe = () => _utils.default.asap(unsubscribe);\n    return signal;\n  }\n};\nvar _default = exports.default = composeSignals;"},"sourceMaps":null,"error":null,"hash":"b2739120e0ae3effee310c43735592b4","cacheData":{"env":{}}}